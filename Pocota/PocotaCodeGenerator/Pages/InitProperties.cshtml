@using Net.Leksi.Pocota.Common;
@model ClassModel

@Html.Raw("#region Init Properties");
    public static void InitProperties(@Html.Raw("List<Property>") properties)
    {
        @foreach (PropertyModel pm in Model.Properties)
        {    
    <text>        properties.Add(
                new @Html.Raw($"Property(")
                @Html.Raw("\"")@pm.Name@Html.Raw("\""), 
                typeof(@Html.Raw(pm.Type.Trim('?'))),
                @Html.Raw($"Get{pm.Name}Value"), 
                @if (@pm.IsList){<text>                null</text>} else {<text>                @Html.Raw("Set" + pm.Name + "Value")</text>}, 
                @Html.Raw($"target => ((IPoco)target).TouchProperty(\"{pm.Name}\")"), 
                @if (!pm.IsNullable){<text>                false</text>} else {<text>                true</text>}, 
                @if (@pm.IsReadOnly){<text>                true</text>} else {<text>                false</text>}, 
                @if (@pm.IsList){<text>                true</text>} else {<text>                false</text>}
            
            )
            @foreach(var entry in pm.Interfaces)
            {
                <text>            @Html.Raw($".AddPropertyType<{entry.Key.Trim('.')}, {entry.Value.Trim('?')}>()")
</text>
            }
        );
</text>
        }
    }
@Html.Raw("#endregion Init Properties");
