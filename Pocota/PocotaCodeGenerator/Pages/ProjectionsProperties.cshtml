@using Net.Leksi.Pocota.Common;
@model ClassModel

@Html.Raw("#region Projection Properties")

@foreach(ClassModel model1 in Model.Classes)
{
    <text>    private @model1.ClassName? @Html.Raw($"_as{model1.ClassName}") = null;
</text>
}

@foreach(ClassModel model1 in Model.Classes)
{
    <text>    private @model1.ClassName @Html.Raw($"As{model1.ClassName}") 
        {
            get
            {
                if(@Html.Raw($"_as{model1.ClassName}") is null)
                {
                    @Html.Raw($"_as{model1.ClassName}") = new @Html.Raw($"{model1.ClassName}(this)");
                    ProjectionCreated(typeof(@Html.Raw(model1.Interfaces[0])), @Html.Raw($"_as{model1.ClassName}"));
                }
                return @Html.Raw($"_as{model1.ClassName}") = new(this);
            }
        }
</text>
}

@Html.Raw("#endregion Projection Properties");
