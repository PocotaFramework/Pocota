@page
@using Net.Leksi.Pocota.Common
@model ClassModel


//------------------------------
// Server implementation
// @string.Join(".", new string[] { Model.NamespaceValue, Model.ClassName})
// (Generated automatically @DateTime.Now.ToString("s"))
//------------------------------

@foreach (string usng in Model.Usings.OrderBy(v => v))
{
    <text>using @usng;
    </text>
}

namespace @Model.NamespaceValue;

public @if (Model.IsAbstract)
{
    <text>abstract </text>
}
class @Model.ClassName: @if (Model.IsEntity)
{
    <text>EntityBase</text>
}
else
{
    <text>EnvelopeBase</text>
}, IProjector
{

    @Html.Raw("#region Projection classes");

    @foreach (ClassModel model in Model.Classes)
    {
        @Html.Partial("Projection", model)
    }
    @Html.Raw("#endregion Projection classes");

    @Html.Partial("InitProperties", Model)

    @Html.Partial("ProjectionsProperties", Model)
    
    @Html.Partial("Properties", Model)

    @Html.Partial("Methods", Model)

    @Html.Partial("PropertiesAccessors", Model)
}