@using Net.Leksi.Pocota.Common;
@model ClassModel

@Html.Raw("#region Methods");
    I? @Html.Raw("IProjector.As<I>() where I : class")
    {
        return (I?)((IProjector)this).As(typeof(I));
    }

    object? IProjector.As(Type type)
    {
        @foreach (ClassModel model1 in Model.Classes)
        {
            <text>        if(type == typeof(@Html.Raw(model1.ClassName)) || type == typeof(@Html.Raw(model1.Interface)))
        {
            return @Html.Raw($"As{model1.ClassName}");
        }
</text>
        }
        return null;
    }

    @foreach(MethodModel mm in Model.Methods)
    {
    <text>    public abstract @Html.Raw(mm.ReturnType) @mm.Name@Html.Raw($"({string.Join(", ", mm.Parameters.Select(p => $"{p.Type} {p.Name}"))})");
</text>
    }

@Html.Raw("#endregion Methods");
