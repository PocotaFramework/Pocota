@using Net.Leksi.Pocota.Common;
@model ClassModel

@foreach(PropertyModel pm in Model.Properties)
{
    string fieldName = "_" + pm.Name.Substring(0, 1).ToLower() + pm.Name.Substring(1);
    <text>    private </text>
    if (pm.IsList && (pm.IsProjector || pm.IsReadOnly))
    {
        <text>readonly </text>
    }
    <text>@Html.Raw(pm.Type)</text>
    if (pm.IsNullable)
    {
        <text>?</text>
    } 
    <text> @fieldName</text>
    if (pm.IsList && (pm.IsProjector || pm.IsReadOnly))
    {
        <text> = new()</text>
    } 
    else 
    {
        <text> = default</text>
        if(!pm.IsNullable){<text>!</text>}
    }
    <text>;
</text>
    if (pm.IsList)
    {
        <text>    private readonly @Html.Raw($"List<{pm.ItemType}> _initial{fieldName} = new()");
</text>
    }
}
@foreach(ClassModel model1 in Model.Classes){
    <text>    private @model1.ClassName? @Html.Raw($"_as{model1.ClassName}") = null;
</text>
}